!function(a){var b,c={size:20},d={init:function(e){return this.each(function(){b=a.extend(!0,{},c,e);var f=a(this);d.refresh.call(f),a(f).change(function(){d.refresh.call(f)}),e.dataSorting&&d.enableSorting.call(f)})},enableSorting:function(){var b=a(this),c=a(b).find("table");c.find("th").css("cursor","pointer"),c.find("th").click(function(){var e=a(this),f=e.index(),g="asc";e.data("sort-dir")&&(g="asc"===e.data("sort-dir")?"desc":"asc");var h=[],i=[],j=function(a,b){return isNaN(a)||isNaN(b)?(a=a.toLowerCase(),b=b.toLowerCase(),b>a?-1:a>b?1:0):parseFloat(a)-parseFloat(b)},k=c.children("tbody").children("tr");k.each(function(b,c){if(b>1){var d=a(c).children().eq(f),e=d.text();h.push([e,c])}else i.push(c)}),h.sort(function(a,b){return j(a[0],b[0])}),"asc"!=g&&h.reverse(),k=a.map(i,function(a){return a}),k=a.map(h,function(a){return a[1]}),c.children("tbody").append(k),c.find("th").data("sort-dir",null).removeClass("sorting-desc sorting-asc"),e.data("sort-dir",g).addClass("sorting-"+g),d.refresh.call(b),a(b).enterpriseformgrid("refreshIndex")})},refresh:function(){var b=a(this),c=1;a(b).find(".pg-navigator .pg-current").length>0&&(c=a(b).find(".pg-navigator .pg-current").attr("rel")),d.navigator.call(b),d.showPage.call(b,c)},navigator:function(){var c=a(this),e=a(c).find("table"),f=a(e).find("tr").length-2;a(c).find(".pg-navigator").length>0&&a(c).find(".pg-navigator").remove(),a(e).after('<p class="pg-navigator"></p>');var g=1;if(f>b.size){g=Math.ceil(f/b.size);for(var h='<span class="pg-prev" style="cursor:pointer"> &#171 </span> | ',i=1;g>=i;i++)h+='<span class="pg-normal" rel="'+i+'" style="cursor:pointer">'+i+"</span> | ";h+='<span class="pg-next" style="cursor:pointer"> &#187; </span>',a(c).find(".pg-navigator").html(h),a(c).find(".pg-navigator .pg-prev").click(function(){var b=a(c).find(".pg-navigator .pg-current").prev();a(b).hasClass("pg-normal")&&d.showPage.call(c,a(b).attr("rel"))}),a(c).find(".pg-navigator .pg-next").click(function(){var b=a(c).find(".pg-navigator .pg-current").next();a(b).hasClass("pg-normal")&&d.showPage.call(c,a(b).attr("rel"))}),a(c).find(".pg-navigator .pg-normal").click(function(){a(this).hasClass("pg-current")||d.showPage.call(c,a(this).attr("rel"))})}},showPage:function(c){var d=a(this);0===a(d).find(".pg-navigator .pg-normal[rel="+c+"]").length&&(c=1),a(d).find(".pg-navigator .pg-current").removeClass("pg-current");var e=a(d).find("table"),f=b.size*(c-1)+2,g=b.size*c+2;a(e).find("tr").each(function(b){b>=2&&(b>=f&&g>b?(a(this).addClass("pg-tr-show"),a(this).removeClass("pg-tr-hide")):(a(this).removeClass("pg-tr-show"),a(this).addClass("pg-tr-hide")))}),a(d).find(".pg-navigator .pg-normal[rel="+c+"]").addClass("pg-current")}};a.fn.gridPaging=function(b){return d[b]?d[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.listgrid"):d.init.apply(this,arguments)}}(jQuery);